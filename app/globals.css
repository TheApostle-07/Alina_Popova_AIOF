@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --radius: 1rem;
  --color-bg: 7 8 12;
  --color-surface: 14 16 24;
  --color-surface-2: 12 15 24;
  --color-border: 28 32 48;
  --color-text: 245 247 255;
  --color-text-secondary: 182 188 207;
  --color-muted: 182 188 207;
  --color-accent: 230 75 140;
  --color-accent-hover: 255 95 162;
  --color-secondary-accent: 124 155 255;
  --color-success: 34 197 94;
  --color-warning: 245 158 11;
  --color-danger: 239 68 68;
  --color-soft-rose: 239 199 162;
  --grid-color: rgb(255 255 255 / 0.02);
  --app-bg-gradient:
    radial-gradient(circle at 80% -20%, rgb(var(--color-accent) / 0.2), transparent 35%),
    radial-gradient(circle at 0% 0%, rgb(var(--color-accent) / 0.08), transparent 40%),
    rgb(var(--color-bg));
  color-scheme: dark;
}

html[data-theme="light"] {
  --color-bg: 245 247 255;
  --color-surface: 255 255 255;
  --color-surface-2: 225 231 244;
  --color-border: 184 194 216;
  --color-text: 12 15 24;
  --color-text-secondary: 90 97 119;
  --color-muted: 127 134 156;
  --color-accent: 230 75 140;
  --color-accent-hover: 255 95 162;
  --color-secondary-accent: 124 155 255;
  --color-success: 34 197 94;
  --color-warning: 245 158 11;
  --color-danger: 239 68 68;
  --color-soft-rose: 239 199 162;
  --grid-color: rgb(12 15 24 / 0.035);
  --app-bg-gradient: linear-gradient(135deg, #ffffff, #e1e7f4, #f5f7ff);
  color-scheme: light;
}

* {
  border-color: rgb(var(--color-border));
}

html,
body {
  min-height: 100%;
}

html {
  scroll-behavior: smooth;
}

body {
  background: var(--app-bg-gradient);
  color: rgb(var(--color-text));
}

@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
}

a {
  color: inherit;
  text-decoration: none;
}

.bg-grid {
  background-image: linear-gradient(var(--grid-color) 1px, transparent 1px),
    linear-gradient(90deg, var(--grid-color) 1px, transparent 1px);
  background-size: 30px 30px;
}

.join-checkout-reveal {
  max-height: 0;
  opacity: 0;
  overflow: hidden;
  pointer-events: none;
  transform: translateY(18px);
  transition: max-height 520ms cubic-bezier(0.22, 1, 0.36, 1),
    opacity 320ms cubic-bezier(0.22, 1, 0.36, 1),
    transform 320ms cubic-bezier(0.22, 1, 0.36, 1);
}

.join-checkout-reveal:target {
  max-height: 2200px;
  opacity: 1;
  pointer-events: auto;
  transform: translateY(0);
}

.bg-theme-footer {
  background:
    radial-gradient(circle at 80% 0%, rgb(var(--color-accent) / 0.14), transparent 38%),
    rgb(var(--color-bg));
}

.bg-theme-admin-shell {
  background:
    radial-gradient(circle at 12% 0%, rgb(var(--color-secondary-accent) / 0.15), transparent 35%),
    rgb(var(--color-bg));
}

.bg-theme-media-placeholder {
  background: linear-gradient(
    135deg,
    rgb(var(--color-surface-2)),
    rgb(var(--color-surface)) 45%,
    rgb(var(--color-soft-rose) / 0.24)
  );
}

.join-popup-card {
  border-color: rgb(var(--color-accent) / 0.35);
  background: linear-gradient(
    135deg,
    rgb(var(--color-surface) / 0.96),
    rgb(var(--color-surface) / 0.9)
  );
  box-shadow: 0 16px 40px rgb(var(--color-accent) / 0.2);
}

html[data-theme="light"] .join-popup-card {
  border-color: rgb(var(--color-accent) / 0.26);
  background: linear-gradient(135deg, rgb(255 255 255 / 0.98), rgb(var(--color-surface-2) / 0.92));
  box-shadow: 0 14px 34px rgb(var(--color-secondary-accent) / 0.18);
}

.join-popup-avatar {
  background: radial-gradient(circle at 30% 20%, #ff5fa2, #e64b8c 55%, #8f224e);
  box-shadow: 0 0 20px rgb(var(--color-accent) / 0.45);
}

html[data-theme="light"] .join-popup-avatar {
  background: radial-gradient(circle at 30% 20%, #ff8aba, #e64b8c 58%, #b63b6e);
  box-shadow: 0 0 16px rgb(var(--color-accent) / 0.3);
}

.join-popup-city {
  box-shadow: 0 0 14px rgb(var(--color-accent) / 0.35);
}

html[data-theme="light"] .join-popup-city {
  box-shadow: 0 0 10px rgb(var(--color-accent) / 0.2);
}

.btn-click-fx {
  transform: translate3d(0, 0, 0);
}

@media (prefers-reduced-motion: no-preference) {
  .btn-click-fx:active {
    animation: button-click-feedback 240ms cubic-bezier(0.22, 1, 0.36, 1);
  }
}

@keyframes button-click-feedback {
  0% {
    transform: translate3d(0, 0, 0) scale(1);
  }

  25% {
    transform: translate3d(-1.4px, 0, 0) scale(0.97);
  }

  50% {
    transform: translate3d(1.3px, 0, 0) scale(0.975);
  }

  75% {
    transform: translate3d(-0.9px, 0, 0) scale(0.985);
  }

  100% {
    transform: translate3d(0, 0, 0) scale(1);
  }
}

.toast-confetti-piece {
  position: absolute;
  opacity: 0;
  border-radius: 2px;
  transform: translate3d(0, 0, 0) rotate(0deg) scale(0.7);
  animation-name: toast-confetti-burst;
  animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
  animation-fill-mode: both;
}

.toast-confetti-dot {
  border-radius: 9999px;
}

.toast-confetti-status {
  box-shadow: 0 0 6px rgba(245, 247, 255, 0.45);
}

@keyframes toast-confetti-burst {
  0% {
    opacity: 0;
    transform: translate3d(0, 0, 0) rotate(0deg) scale(0.7);
  }

  20% {
    opacity: 1;
  }

  100% {
    opacity: 0;
    transform: translate3d(var(--toast-confetti-x, 0px), var(--toast-confetti-y, -24px), 0)
      rotate(var(--toast-confetti-r, 30deg)) scale(1);
  }
}

@media (prefers-reduced-motion: reduce) {
  .toast-confetti-piece {
    animation: none;
    opacity: 0;
  }
}
